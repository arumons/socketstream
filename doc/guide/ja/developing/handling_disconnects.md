### 回線切断時のハンドリング

websocket／'flashsocket' トンネルは障害がおきてもすぐに回復します。ですが開発者は接続が失敗する可能性をつねに考えなければいけません。特にモバイル機器の回線は不安定です。

#### クライアントサイド

SocketStream のクライアントで利用できる（Socket.IO の機能です） 'disconnect'・'connect' イベントに関数をバインドすることをオススメします。例えば次のようにやります。

``` coffee-script
SS.socket.on('disconnect', -> alert('コネクションが切断されました。'))

SS.socket.on('connect', -> alert('コネクションが確立しました'))
```

オンライン／オフラインのアイコンを切り替えたり、よりよい方法としてはスクリーンを暗くして '再接続中です...' とメッセージを表示したりすることに活用できます。

接続／切断時の処理をサーバーサイドでも書きたくなるかもしれません。その際は /doc/guide/ja/developing/server-side_events.md にあるサーバーサイドイベントのセクションを参照してください。
